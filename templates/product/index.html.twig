{% extends 'base.html.twig' %}

{% block title %}Productos Exclusivos - Amazon{% endblock %}

{% block body %}
<header class="header">
    <h1>üõçÔ∏è Productos Exclusivos Amazon</h1>
    <a href="{{ path('app_logout') }}" class="logout-btn">Cerrar Sesi√≥n</a>
</header>

<div class="container">
    <div class="products-grid">
        {% for product in products %}
            <div class="product-card" onclick="toggleExpand({{ loop.index0 }})">
                <img src="{{ product.image }}" alt="{{ product.title }}" class="product-image">
                <div class="product-info">
                    <h3 class="product-title">{{ product.title }}</h3>
                    <div class="product-rating">
                        <span class="rating-score">{{ product.ratingScore }}</span>
                        <span class="rating-stars">
                            {% for i in 1..(product.ratingStars|round) %}‚≠ê{% endfor %}
                        </span>
                        <span class="rating-text">{{ product.ratingText }}</span>
                    </div>
                    <div class="product-price">{{ product.priceSymbol }}{{ product.price }}</div>
                    <p class="product-description">{{ product.description }}</p>
                    
                    <div class="product-details">
                        <div class="product-features">
                            <h4>Caracter√≠sticas principales:</h4>
                            <ul>
                                {% for feature in product.features %}
                                    <li>{{ feature }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    
                    <button class="expand-btn" onclick="event.stopPropagation(); toggleExpand({{ loop.index0 }})">
                        <span id="btn-text-{{ loop.index0 }}">Ver m√°s detalles</span>
                    </button>
                </div>
            </div>
        {% else %}
            <div style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
                <p>No hay productos disponibles.</p>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
